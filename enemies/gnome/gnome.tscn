[gd_scene load_steps=31 format=3 uid="uid://bfx0rihfslwdn"]

[ext_resource type="Script" uid="uid://75tlrxyqx1st" path="res://enemies/gnome/gnome.gd" id="1_lxi62"]
[ext_resource type="Material" uid="uid://nghqt0ifsqwk" path="res://enemies/gnome/base_enemy_damage.tres" id="2_02xms"]
[ext_resource type="Material" uid="uid://sirjghwctyid" path="res://enemies/gnome/base_enemy.tres" id="2_8sayp"]
[ext_resource type="AudioStream" uid="uid://bhi5en4oi3sov" path="res://enemies/gnome/sfx/intro_gnom1.wav" id="4_jpjub"]
[ext_resource type="AudioStream" uid="uid://emabc5cv3816" path="res://enemies/gnome/sfx/intro_gnom2.wav" id="5_kahdj"]
[ext_resource type="AudioStream" uid="uid://b83wftctlurd5" path="res://enemies/gnome/sfx/intro_gnom3.wav" id="6_381xk"]
[ext_resource type="AudioStream" uid="uid://dl56hap5d23l3" path="res://enemies/gnome/sfx/intro_gnom4.wav" id="7_8kybt"]
[ext_resource type="AudioStream" uid="uid://dnwhhnsyohb4w" path="res://enemies/gnome/sfx/death_gnom1.wav" id="8_oynvo"]
[ext_resource type="AudioStream" uid="uid://dtdrv3jve0qh2" path="res://enemies/gnome/sfx/death_gnom2.wav" id="9_8vl1r"]
[ext_resource type="AudioStream" uid="uid://dc7jkfmv6kuny" path="res://enemies/gnome/sfx/death_gnom3.wav" id="10_pcn0l"]
[ext_resource type="AudioStream" uid="uid://dipnedkl10e5b" path="res://enemies/gnome/sfx/death_gnom4.wav" id="11_1vmud"]
[ext_resource type="AudioStream" uid="uid://coohdpt0xfjia" path="res://enemies/gnome/sfx/death_gnom5.wav" id="12_d35lr"]
[ext_resource type="AudioStream" uid="uid://bphwlrl1tcxc7" path="res://enemies/gnome/sfx/death_gnom6.wav" id="13_fh1dx"]
[ext_resource type="AudioStream" uid="uid://bkjltkl1pdu12" path="res://enemies/gnome/sfx/death_gnom7.wav" id="14_meaio"]
[ext_resource type="AudioStream" uid="uid://bnkirr61dyvj2" path="res://enemies/gnome/sfx/death_gnom8.wav" id="15_m6pc4"]
[ext_resource type="AudioStream" uid="uid://c6nkgm5jbjr5b" path="res://enemies/gnome/sfx/death_gnom9.wav" id="16_1f25q"]
[ext_resource type="PackedScene" uid="uid://d22ujmmtwolf3" path="res://enemies/gnome/asset/A_Gnome_Torch.glb" id="17_thlj3"]
[ext_resource type="AudioStream" uid="uid://c8o0ftie40ojo" path="res://enemies/gnome/sfx/death_gnom10.wav" id="18_j783w"]
[ext_resource type="AudioStream" uid="uid://dtd17jkaapm6a" path="res://enemies/gnome/sfx/attack_gnom1.wav" id="18_py5ry"]
[ext_resource type="AudioStream" uid="uid://dmlvvy5aae57x" path="res://enemies/gnome/sfx/attack_gnom2.wav" id="19_q7yq0"]
[ext_resource type="AudioStream" uid="uid://64xtj6tpw2u5" path="res://enemies/gnome/sfx/attack_gnom3.wav" id="20_j783w"]
[ext_resource type="PackedScene" uid="uid://54k4y5ff1koh" path="res://VFX/Sceny/Blood_Particle_Vfx.tscn" id="21_q7yq0"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_cnhrr"]
resource_local_to_scene = true
material = ExtResource("2_8sayp")

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_cnhrr"]
height = 1.0

[sub_resource type="Animation" id="Animation_jc6ys"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("MeshInstance3D:mesh:material")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("2_8sayp")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("MeshInstance3D:mesh:height")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [2.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("MeshInstance3D:mesh:radius")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.5]
}

[sub_resource type="Animation" id="Animation_eb1xl"]
resource_name = "attack"
tracks/0/type = "animation"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("A_Gnome_Torch/AnimationPlayer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"clips": PackedStringArray("Armature_Gnome_Death"),
"times": PackedFloat32Array(0)
}

[sub_resource type="Animation" id="Animation_8sayp"]
resource_name = "death"
length = 1.25
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("MeshInstance3D:mesh:height")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.16666667, 0.333),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [2.0, 1.0, 0.2]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("MeshInstance3D:mesh:radius")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.16666667, 0.333),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.5, 0.1]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("MeshInstance3D:mesh:material")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("2_02xms")]
}
tracks/3/type = "animation"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("A_Gnome_Torch/AnimationPlayer")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"clips": PackedStringArray("Armature_Gnome_Death-Armature_Gnome_Death"),
"times": PackedFloat32Array(0)
}
tracks/4/type = "animation"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("VFX/Blood_Particle_VFX/Blood_Anim_Play")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"clips": PackedStringArray("Blood_Explosion"),
"times": PackedFloat32Array(0)
}

[sub_resource type="Animation" id="Animation_02xms"]
resource_name = "hurt"
length = 0.15
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("MeshInstance3D:mesh:material")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.15),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [ExtResource("2_8sayp"), ExtResource("2_02xms")]
}

[sub_resource type="Animation" id="Animation_thlj3"]
resource_name = "walk"
loop_mode = 1
tracks/0/type = "animation"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("A_Gnome_Torch/AnimationPlayer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"clips": PackedStringArray("Armature_Gnome_Death-Armature_Gnome_Walk"),
"times": PackedFloat32Array(0)
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_jc6ys"]
_data = {
&"RESET": SubResource("Animation_jc6ys"),
&"attack": SubResource("Animation_eb1xl"),
&"death": SubResource("Animation_8sayp"),
&"hurt": SubResource("Animation_02xms"),
&"walk": SubResource("Animation_thlj3")
}

[node name="Gnome" type="AnimatableBody3D"]
collision_layer = 8
collision_mask = 2
sync_to_physics = false
script = ExtResource("1_lxi62")
max_speed = 0.2
max_health = 40.0
dimensions = Vector3(1, 1.5, 1)
animation_time = 3.0

[node name="A_Gnome_Torch" parent="." instance=ExtResource("17_thlj3")]
transform = Transform3D(-6.5567085e-09, 0, -0.15, 0, 0.15, 0, 0.15, 0, -6.5567085e-09, 0.5, -0.75, 0.5)

[node name="Skeleton3D" parent="A_Gnome_Torch/Armature_Gnome_Rig" index="0"]
bones/1/position = Vector3(-0.030076003, -0.045386285, 3.9714408)
bones/1/rotation = Quaternion(-0.693217, 0.121294096, -0.21801473, 0.67617136)
bones/2/rotation = Quaternion(-0.26488346, -0.23093413, 0.9319647, -0.08915118)
bones/3/rotation = Quaternion(0.2787672, 0.04663079, -0.036254406, 0.9585406)
bones/4/rotation = Quaternion(-0.28383592, -0.10245567, -0.034155373, 0.9527715)
bones/5/rotation = Quaternion(0.2882861, 0.0036754468, 0.0016517543, 0.95753586)
bones/6/position = Vector3(-4.280704e-05, 1.567154, 0.07707664)
bones/6/rotation = Quaternion(0.084121965, 6.3862353e-06, -6.377657e-06, 0.9964555)
bones/7/position = Vector3(-1.519807, 1.3059319, 0.7097106)
bones/7/rotation = Quaternion(0.35761565, 0.02672853, 0.44391355, 0.8211805)
bones/8/position = Vector3(1.5213238, 1.3213322, 0.6910099)
bones/8/rotation = Quaternion(0.33863235, -0.008832298, -0.60960394, 0.7166821)
bones/9/rotation = Quaternion(0.55765915, -0.24932715, 0.36985424, 0.70004296)
bones/10/rotation = Quaternion(-0.08785647, -0.052079465, 0.33150983, 0.93790734)
bones/11/rotation = Quaternion(-0.1984165, -0.54573524, 0.38343224, 0.7181808)
bones/12/rotation = Quaternion(0.035893243, 0.3656406, 0.028666286, 0.929622)
bones/13/rotation = Quaternion(0.041287, -0.5431101, 0.4230059, 0.72414976)
bones/14/rotation = Quaternion(-0.25139356, -0.2024092, -0.27256033, 0.9063899)
bones/16/rotation = Quaternion(0.5417488, 0.044262156, 0.068351015, 0.8365866)
bones/17/rotation = Quaternion(0.45103776, -0.00501047, -0.0033297446, 0.89248466)
bones/18/rotation = Quaternion(0.054584756, -0.71312785, -0.06140771, 0.6962029)
bones/19/rotation = Quaternion(0.6935522, 0.0055138096, 0.0057268133, 0.7203626)
bones/20/rotation = Quaternion(0.52947164, -0.015505843, -0.0075378544, 0.8481524)
bones/21/rotation = Quaternion(0.23598331, -0.7650257, 0.1287775, 0.5852044)
bones/22/rotation = Quaternion(0.42819, 0.004653513, 0.00982121, 0.90362346)
bones/23/rotation = Quaternion(0.37343222, -0.0005650423, -0.0010108599, 0.9276568)
bones/25/rotation = Quaternion(0.36582404, 0.64518034, 0.51679724, -0.42759302)
bones/26/rotation = Quaternion(-0.2781726, -0.22374287, 0.3053381, 0.88279545)
bones/27/rotation = Quaternion(0.134457, -0.47754407, 0.456467, 0.73858714)
bones/28/rotation = Quaternion(0.016548032, -0.14274575, -0.013476438, 0.9895294)
bones/29/rotation = Quaternion(0.23858735, 0.013190967, 0.28291556, 0.9289031)
bones/30/rotation = Quaternion(-0.3714089, -0.006890644, -0.29777417, 0.8793968)
bones/31/position = Vector3(-0.1133935, 0.82794935, 0.2948706)
bones/31/rotation = Quaternion(0.038256813, -0.067547075, 0.2967384, 0.9517984)
bones/32/rotation = Quaternion(-0.048053376, 0.043531325, 0.6680934, 0.74124706)
bones/33/rotation = Quaternion(-0.07999225, 0.028848704, 0.560139, 0.82402265)
bones/34/rotation = Quaternion(0.0061284956, -0.055401735, 0.28688508, 0.9563421)
bones/35/rotation = Quaternion(-0.04321974, 0.0012053809, 0.70724887, 0.7056413)
bones/36/rotation = Quaternion(-0.024680965, 0.0029218597, 0.54635656, 0.83718395)
bones/37/position = Vector3(0.0039059515, 0.78098917, -0.34754598)
bones/37/rotation = Quaternion(0.050659224, -0.0068948395, 0.28702763, 0.95655704)
bones/38/rotation = Quaternion(0.005091963, -0.02087231, 0.6692203, 0.74275345)
bones/39/rotation = Quaternion(-0.0010354089, -0.00012904465, 0.6249037, 0.7807011)
bones/40/position = Vector3(0.23698977, -0.54816294, 0.451833)
bones/40/rotation = Quaternion(0.09868219, -0.057213563, -0.01656187, 0.99333495)
bones/41/rotation = Quaternion(-0.11086485, 0.5324448, -0.41788682, 0.727724)
bones/42/rotation = Quaternion(-0.053680655, -0.0013160001, 0.7767482, 0.62751806)
bones/43/rotation = Quaternion(-0.1423898, -0.084608115, -0.36670375, 0.9154753)
bones/44/rotation = Quaternion(-0.0028977206, -0.015658792, -0.38163662, 0.9241753)
bones/45/rotation = Quaternion(-0.15562089, 0.41979927, 0.08333357, 0.89028436)
bones/46/rotation = Quaternion(0.030371785, 0.0018826255, 0.43947417, 0.89773977)
bones/47/rotation = Quaternion(0.020408455, -0.03717223, -0.68597823, 0.7263853)
bones/48/rotation = Quaternion(-0.13116105, 0.09521853, -0.46628663, 0.8696592)
bones/51/rotation = Quaternion(0, 0.9979098, 0, -0.06462391)
bones/53/position = Vector3(0.7843775, -0.34848842, 3.3771052)
bones/53/rotation = Quaternion(0.6926323, 0.34117648, -0.37781483, -0.5109942)
bones/54/rotation = Quaternion(0.011859204, -0.0020657931, -0.1716005, 0.98509306)
bones/55/rotation = Quaternion(-0.54371154, 0.8258225, 0.046786837, 0.14214829)
bones/57/rotation = Quaternion(-0.59403443, 0.38640824, 0.30005348, 0.6385764)
bones/57/scale = Vector3(1.1858493, 0.71125114, 1.1858493)
bones/58/position = Vector3(-0.5660857, 0.3656809, 3.1638987)
bones/58/rotation = Quaternion(0.39622003, -0.548756, 0.6631149, -0.31961727)
bones/59/rotation = Quaternion(0.011859202, 0.0020657976, 0.17160048, 0.98509306)
bones/60/rotation = Quaternion(-0.063867696, 0.03272636, -0.54252493, 0.8369687)
bones/62/rotation = Quaternion(-0.18895274, -0.68501335, -0.43166107, 0.5556278)
bones/62/scale = Vector3(1.2063147, 0.6872551, 1.2063149)
bones/63/position = Vector3(-2.777037, -2.283111, 4.0736012)
bones/63/rotation = Quaternion(0.3604931, -0.29413602, 0.86676276, -0.179586)
bones/64/position = Vector3(3.820748, -1.4135113, 8.036697)
bones/64/rotation = Quaternion(0.40729737, 0.094321616, 0.32099572, 0.8498082)

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 0, 0.5)
visible = false
mesh = SubResource("CapsuleMesh_cnhrr")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 0, 0.5)
shape = SubResource("CapsuleShape3D_cnhrr")

[node name="HPLabel" type="Label3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(-1, -7.571034e-08, 4.371138e-08, 0, 0.49999994, 0.8660254, -8.742278e-08, 0.8660254, -0.49999994, 0.5, 1.3, 0.5)
text = "HP"
font_size = 72

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_jc6ys")
}

[node name="SFX" type="Node" parent="."]
unique_name_in_owner = true

[node name="Intro" type="Node" parent="SFX"]

[node name="IntroGnom1" type="AudioStreamPlayer" parent="SFX/Intro"]
stream = ExtResource("4_jpjub")
bus = &"VoiceLines"

[node name="IntroGnom2" type="AudioStreamPlayer" parent="SFX/Intro"]
stream = ExtResource("5_kahdj")
bus = &"VoiceLines"

[node name="IntroGnom3" type="AudioStreamPlayer" parent="SFX/Intro"]
stream = ExtResource("6_381xk")
bus = &"VoiceLines"

[node name="IntroGnom4" type="AudioStreamPlayer" parent="SFX/Intro"]
stream = ExtResource("7_8kybt")
bus = &"VoiceLines"

[node name="Death" type="Node" parent="SFX"]

[node name="DeathGnom1" type="AudioStreamPlayer" parent="SFX/Death"]
stream = ExtResource("8_oynvo")
bus = &"VoiceLines"

[node name="DeathGnom2" type="AudioStreamPlayer" parent="SFX/Death"]
stream = ExtResource("9_8vl1r")
bus = &"VoiceLines"

[node name="DeathGnom3" type="AudioStreamPlayer" parent="SFX/Death"]
stream = ExtResource("10_pcn0l")
bus = &"VoiceLines"

[node name="DeathGnom4" type="AudioStreamPlayer" parent="SFX/Death"]
stream = ExtResource("11_1vmud")
bus = &"VoiceLines"

[node name="DeathGnom5" type="AudioStreamPlayer" parent="SFX/Death"]
stream = ExtResource("12_d35lr")
bus = &"VoiceLines"

[node name="DeathGnom6" type="AudioStreamPlayer" parent="SFX/Death"]
stream = ExtResource("13_fh1dx")
bus = &"VoiceLines"

[node name="DeathGnom7" type="AudioStreamPlayer" parent="SFX/Death"]
stream = ExtResource("14_meaio")
bus = &"VoiceLines"

[node name="DeathGnom8" type="AudioStreamPlayer" parent="SFX/Death"]
stream = ExtResource("15_m6pc4")
bus = &"VoiceLines"

[node name="DeathGnom9" type="AudioStreamPlayer" parent="SFX/Death"]
stream = ExtResource("16_1f25q")
bus = &"VoiceLines"

[node name="DeathGnom10" type="AudioStreamPlayer" parent="SFX/Death"]
stream = ExtResource("18_j783w")

[node name="Attack" type="Node" parent="SFX"]

[node name="AttackGnom1" type="AudioStreamPlayer" parent="SFX/Attack"]
stream = ExtResource("18_py5ry")
bus = &"VoiceLines"

[node name="AttackGnom2" type="AudioStreamPlayer" parent="SFX/Attack"]
stream = ExtResource("19_q7yq0")
bus = &"VoiceLines"

[node name="AttackGnom3" type="AudioStreamPlayer" parent="SFX/Attack"]
stream = ExtResource("20_j783w")
bus = &"VoiceLines"

[node name="VFX" type="Node3D" parent="."]
unique_name_in_owner = true

[node name="Blood_Particle_VFX" parent="VFX" instance=ExtResource("21_q7yq0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, -0.75, 0.5)

[editable path="A_Gnome_Torch"]
[editable path="VFX/Blood_Particle_VFX"]
